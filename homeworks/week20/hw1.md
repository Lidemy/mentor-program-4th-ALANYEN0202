## 十六到二十週心得

這週反而沒有複習 16週的課程，跑去複習之前比較不熟的 fetch 跟 promise 還有 async await，還有去看老師的[[FE210] 從新手到中手：前端工程加強班](https://lidemy.com/courses/enrolled/185961)其中 

5. 讓網頁變得更完整：加上 placeholder 與 infinite scroll 還蠻有趣的，自己有用之前 Twitch 的作業來改改看，學到了使用
```js
window.innerHeight == $(window).height 當前看得到的視窗高

 window.pageYOffset == $(window).scrollTop() 現在滾輪所在高

 document.body.clientHeight == $(document).height() 總視窗高
```

這三個方法來判斷是否移動到了視窗底部，還有應該提前 load 但是這期間請求只能一次，不能連續觸發，好像就是防抖動的概念。

再來 16 週還是有些許印象的，closure 、 scope、hoisting 等等，來跟著自我檢測來回答一下～

### P1 你知道 Event Loop 的運作方式 ?

首先 JavaScript 是單一執行緒，也就是一次只能做一件事，所以為了處理主線程阻塞的問題，需要非同步來解決問題，也就有了 Event Loop ( 事件循環 )的誕生。

執行任務 => 同步還是非同步 => 同步的話就執行

=> 非同步的話會被放到其他的執行環境 ( node.js、webApi )，去做相對應的處理 ( 計時等等 )，完成後會被放到 task queue 等待，而 Event Loop 就是負責查看主執行環境清空了沒？ 如果清空了就會把 task queue 的東西放上來執行～如此反覆直到所有程式碼執行完畢。

### scope 是什麼？
  就是變數生存範圍，如果超出作用域，那將會讀取不到此變數，變數區域有分全域跟區域，簡而來說就是最外面的大家都讀取的到，裡面的只能往外找，找不到就是沒有，老師用全域變數等於明星，區域變數等於地方歌手來比喻很好懂～ 明星大家都知道，可是地方歌手只有那區的人才知道。

### hoisting
  簡單來說就是宣告會提升，賦值不會，然後函式會優先提升( 包括函式的參數 )。

### closure 
  我也先記住就是一個函式裡面回傳一個函式，而且裡面的函式讀取外面的函式的值。

### Prototype
  有點像是一條鍊子把同一類別的東西串起來，當底層找不到時，就會在往上層找，一直到最上層為止。運作感覺跟 scope 很像，但是對象不同？

### 十七、十八週 後端框架 (node.js express sequelize )
  這兩週來練習後端的框架，利用 sequelize 來管理後台就不用直接下 SQL query ，方便了很多，不過也有缺點，要注意 N + 1 效能問題，有可能下了多餘的 SQL query ，也把之前都寫在一起的概念分成 MVC 三個部分，M 負責處理資料，Ｖ 負責顯示畫面，Ｃ 則是負責連結這兩個的關係。

  不過看了學習系統後台的程式碼都是改用只提供 API 資料，是不是這樣比較好？

  看了老師寫的是使用 promise ， 也有人使用 async await ，有分哪種比較推薦嗎？ 還是說要看使用情形？ 還是可以混著用？
  

  也是這時才想試試用 sequelize 寫看看一個簡單的 API ，不過只寫了一個抓取所有資料的 API ，POST 還沒寫到，有機會 CRUD 的應該練習一下～

### 二十週 優化網站
  其實也沒做什麼，一開始用測試網站測發現圖片有夠大，結果把一些大的放到 tiny 網站壓縮，看到別人進度報告才想到有 gulp...立馬來用！一用就上癮，開始試試看 uglify 、 minify ，也試過inline 結果跑版，其他發現都差不多，所以其實只有用 gulp 壓縮圖片成 wepb 而已，看了助教之前的優化好厲害....幾乎全部都有做到，也跟教學影片一樣步驟一 先壓縮、縮小，步驟二計算 JS CSS 關鍵資源檔案，如果不是關鍵的 JS 引用後面可以加 async `<script src="https://example.com" async></script>`如此一來瀏覽器會先跳過，CSS 也可以使用 inline 但要注意如果多個檔案要使用就不建議。

  [我的測試網站](https://alanyen0202.github.io/lazy-hackathon/)
  [我的測試報告](https://www.webpagetest.org/result/201029_DiK1_46afa6410c20f0309fd5077e97aecfc0/)

## 總結
  其實在第 17、18 週時有點太急了，只想趕緊交作業怕延遲到進度，剛好部署又出了問題，所以匆匆忙忙就交出，導致連命名規則都亂取，程式碼也很髒亂...以後要慢一些，把細節處理好，記得大部分 JS 命名為 小駝峰式`getGame` 網址路由為`add-comment` 謹記謹記，還有一些錯誤處理記得 `return 或 die()` 就是記得停止往下執行程式碼就對了。

  自己其實是想做期末專案的，先列出想做的樣子，至於做不做的出來也沒先想，只能先做做看，到時打算邊求職邊做，在想後端大概怎麼做時，想把後端改成只提供 API 的樣子才發現自己還差蠻遠的，很多都不太會...心情低落了一陣子才決定把步調放慢一點，這週才慢慢的複習我想複習的部分，跟以往幾週複習不太一樣，以往只是照著第幾週來複習都沒有想到自己哪些想加強以為自己都懂了，這週複習的內容雖然不多，但是也因為這樣，才覺得有停下了學一下想學的，目前要把學習放慢，學的扎實一點為主～


